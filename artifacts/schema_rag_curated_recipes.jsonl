{"id": "query_recipe:success_count_for_program_with_variants", "doc_type": "query_recipe", "text": "Recipe: success count for a named program with variant handling. Join programs to program_statistics on programs.id = program_statistics.program_id. Filter programs.name by the user's program name. Return program_statistics.success_count. If multiple rows exist due to variants (variant_id), either sum across rows (SUM(success_count)) or choose variant_id IS NULL depending on requested semantics. For base program only, use WHERE variant_id IS NULL. For total across all variants, use SUM(success_count) GROUP BY program_id.", "metadata": {"model": "ProgramStatistics", "table": "program_statistics", "column": "success_count", "join_hints": ["program_statistics.program_id -> programs.id", "programs.name (filter by user's program name)"], "keywords": ["success", "count", "program", "name", "variant"], "semantics": "variant_id may require sum vs base-only", "source": "curated"}}
{"id": "query_recipe:failure_rate_calculation", "doc_type": "query_recipe", "text": "Recipe: calculate failure rate for a program. Join programs to program_statistics on programs.id = program_statistics.program_id. Filter programs.name by the user's program name. Calculate failure rate as: (failure_count / (success_count + failure_count)) * 100. Handle division by zero: if (success_count + failure_count) = 0, return NULL or 0. Return the calculated failure rate as a percentage.", "metadata": {"model": "ProgramStatistics", "table": "program_statistics", "column": "failure_count", "join_hints": ["program_statistics.program_id -> programs.id", "programs.name (filter by user's program name)"], "keywords": ["failure", "rate", "percentage", "program", "calculation"], "semantics": "Requires calculation: failure_count / (success_count + failure_count) * 100", "source": "curated"}}
{"id": "query_recipe:avg_execution_time_across_variants", "doc_type": "query_recipe", "text": "Recipe: average execution time for a program across all variants. Join programs to program_statistics on programs.id = program_statistics.program_id. Filter programs.name by the user's program name. Aggregate: AVG(avg_execution_time) grouped by program_id. If you want base program only (no variants), add filter variant_id IS NULL. If you want average across all variants, use AVG(avg_execution_time) without variant_id filter. Return the average execution time in seconds.", "metadata": {"model": "ProgramStatistics", "table": "program_statistics", "column": "avg_execution_time", "join_hints": ["program_statistics.program_id -> programs.id", "programs.name (filter by user's program name)"], "keywords": ["average", "execution", "time", "program", "variant", "avg"], "semantics": "Aggregation required: AVG(avg_execution_time) with optional variant_id filter", "source": "curated"}}
{"id": "query_recipe:program_usage_trends", "doc_type": "query_recipe", "text": "Recipe: program usage trends over time. Join programs to program_statistics on programs.id = program_statistics.program_id. Filter programs.name by the user's program name if specified. Filter by time using updated_at or last_used_at columns. Group by time period (day/week/month) using DATE functions. Return usage_count aggregated by time period. For trends, order by time period ascending to show progression over time.", "metadata": {"model": "ProgramStatistics", "table": "program_statistics", "column": "usage_count", "join_hints": ["program_statistics.program_id -> programs.id", "programs.name (optional filter)", "program_statistics.updated_at (time filter)", "program_statistics.last_used_at (time filter)"], "keywords": ["usage", "trend", "time", "over time", "history", "pattern"], "semantics": "Time-based aggregation and grouping required", "source": "curated"}}
{"id": "query_recipe:program_execution_history", "doc_type": "query_recipe", "text": "Recipe: execution history for a program. Join programs to program_executions on programs.id = program_executions.program_id. Filter programs.name by the user's program name. Optionally filter by variant_id if specific variant requested. Order by executed_at descending to show most recent executions first. Return execution details: execution_time, success status, error_message if failed, executed_at timestamp. Can aggregate to get count of executions, success rate, average execution time.", "metadata": {"model": "ProgramExecution", "table": "program_executions", "column": "execution_time", "join_hints": ["program_executions.program_id -> programs.id", "programs.name (filter by user's program name)", "program_executions.variant_id (optional filter)"], "keywords": ["execution", "history", "program", "executed", "run"], "semantics": "Join to program_executions table for detailed execution history", "source": "curated"}}
{"id": "query_recipe:how_many_times_run", "doc_type": "query_recipe", "text": "Recipe: how many times was a program run. Join programs to program_statistics on programs.id = program_statistics.program_id. Filter programs.name by the user's program name. Return program_statistics.usage_count. The usage_count column represents how many times the program was run or executed. Use SUM(usage_count) if multiple rows exist due to variants.", "metadata": {"model": "ProgramStatistics", "table": "program_statistics", "column": "usage_count", "join_hints": ["program_statistics.program_id -> programs.id", "programs.name (filter by user's program name)"], "keywords": ["how many", "times", "run", "ran", "usage", "count", "executions", "number"], "semantics": "Aggregation: usage_count represents run count", "recipe_type": "aggregation", "source": "curated"}}
{"id": "query_recipe:programs_with_failures", "doc_type": "query_recipe", "text": "Recipe: programs with less than N failures. Query program_statistics table. Filter by failure_count < N where N is the threshold. Join to programs table on program_statistics.program_id = programs.id to get program names. Return programs.name and program_statistics.failure_count. Order by failure_count ASC to show programs with fewest failures first.", "metadata": {"model": "ProgramStatistics", "table": "program_statistics", "column": "failure_count", "join_hints": ["program_statistics.program_id -> programs.id"], "keywords": ["programs", "with", "less", "than", "failures", "failure", "count", "filter"], "semantics": "Filter by failure_count threshold", "recipe_type": "aggregation", "source": "curated"}}
{"id": "query_recipe:program_variants_for_program", "doc_type": "query_recipe", "text": "Recipe: program variants for a specific program. Join programs to program_variants on programs.id = program_variants.program_id. Filter programs.name by the user's program name. Return program_variants.name or program_variants.id. This shows all variants associated with a specific program.", "metadata": {"model": "ProgramVariant", "table": "program_variants", "column": "name", "join_hints": ["program_variants.program_id -> programs.id", "programs.name (filter by user's program name)"], "keywords": ["program", "variants", "for", "specific", "program", "variant", "related"], "semantics": "Relationship query: variants for program", "recipe_type": "relationship", "source": "curated"}}
{"id": "query_recipe:list_all_program_names", "doc_type": "query_recipe", "text": "Recipe: list all program names. Query programs table. Use SELECT name FROM programs. Optionally filter by conditions if specified. Order by name ASC for alphabetical order. Return all program names.", "metadata": {"model": "Program", "table": "programs", "column": "name", "join_hints": [], "keywords": ["list", "all", "program", "names", "list all"], "semantics": "Simple SELECT query for names", "recipe_type": "generic", "source": "curated"}}
{"id": "query_recipe:programs_created_in_year", "doc_type": "query_recipe", "text": "Recipe: programs created in specific year (e.g., 2024). Query programs table. Filter by created_at using date functions: WHERE YEAR(created_at) = year or WHERE created_at >= 'year-01-01' AND created_at < 'year+1-01-01'. Return programs.name and programs.created_at. Order by created_at DESC to show newest first.", "metadata": {"model": "Program", "table": "programs", "column": "created_at", "join_hints": [], "keywords": ["programs", "created", "in", "year", "2024", "creation", "date", "when"], "semantics": "Temporal filtering by year", "recipe_type": "temporal", "source": "curated"}}
{"id": "query_recipe:how_many_simulations_running", "doc_type": "query_recipe", "text": "Recipe: how many simulations are running. Query simulations table. Filter by status = 'running' or status = 'active'. Use COUNT(*) to count how many simulations have running status. Return the count as a number.", "metadata": {"model": "Simulation", "table": "simulations", "column": "status", "join_hints": [], "keywords": ["how many", "simulations", "are", "running", "status", "count", "number"], "semantics": "Count by status: running", "recipe_type": "status", "source": "curated"}}
{"id": "query_recipe:simulation_names_and_descriptions", "doc_type": "query_recipe", "text": "Recipe: simulation names and descriptions. Query simulations table. Use SELECT name, description FROM simulations. Optionally filter by conditions if specified. Return simulation name and description columns.", "metadata": {"model": "Simulation", "table": "simulations", "column": "name", "join_hints": [], "keywords": ["simulation", "names", "and", "descriptions", "name", "description"], "semantics": "SELECT multiple columns", "recipe_type": "generic", "source": "curated"}}
{"id": "query_recipe:completed_simulations", "doc_type": "query_recipe", "text": "Recipe: completed simulations. Query simulations table. Filter by status = 'completed' or status = 'done'. Return simulations.name, simulations.status, and simulations.completed_at if available. Order by completed_at DESC to show most recently completed first.", "metadata": {"model": "Simulation", "table": "simulations", "column": "status", "join_hints": [], "keywords": ["completed", "simulations", "status", "done", "finished"], "semantics": "Status filtering: completed", "recipe_type": "status", "source": "curated"}}
{"id": "query_recipe:research_goals", "doc_type": "query_recipe", "text": "Recipe: research goals. Query research table. Use SELECT goals FROM research. Optionally filter by research.name or research.id if specific research project requested. Return research.goals column which contains the goals for research projects.", "metadata": {"model": "Research", "table": "research", "column": "goals", "join_hints": [], "keywords": ["research", "goals", "objective", "objectives", "aim"], "semantics": "Simple SELECT query for goals", "recipe_type": "generic", "source": "curated"}}
{"id": "query_recipe:research_questions_related_experiments", "doc_type": "query_recipe", "text": "Recipe: research questions related experiments. Query research_questions table. Use SELECT related_experiment_ids FROM research_questions. The related_experiment_ids column contains array or list of experiment IDs related to each research question. Optionally join to experiments table on experiment IDs to get experiment details. Filter by research_questions.research_id if specific research project requested.", "metadata": {"model": "ResearchQuestion", "table": "research_questions", "column": "related_experiment_ids", "join_hints": ["research_questions.research_id -> research.id"], "keywords": ["research", "questions", "related", "experiments", "linked", "connection", "associated"], "semantics": "Relationship query: experiments related to research questions", "recipe_type": "relationship", "source": "curated"}}
{"id": "query_recipe:research_questions_related_simulations", "doc_type": "query_recipe", "text": "Recipe: research questions related simulations. Query research_questions table. Use SELECT related_simulation_ids FROM research_questions. The related_simulation_ids column contains array or list of simulation IDs related to each research question. Optionally join to simulations table on simulation IDs to get simulation details. Filter by research_questions.research_id if specific research project requested.", "metadata": {"model": "ResearchQuestion", "table": "research_questions", "column": "related_simulation_ids", "join_hints": ["research_questions.research_id -> research.id"], "keywords": ["research", "questions", "related", "simulations", "linked", "connection", "associated"], "semantics": "Relationship query: simulations related to research questions", "recipe_type": "relationship", "source": "curated"}}
{"id": "query_recipe:research_updated_recently", "doc_type": "query_recipe", "text": "Recipe: research updated recently. Query research table. Filter by updated_at using time range: WHERE updated_at >= NOW() - INTERVAL '7' DAYS or WHERE updated_at >= date_sub(NOW(), INTERVAL 7 DAY). Order by updated_at DESC to show most recently updated first. Return research.name, research.updated_at, and other relevant fields.", "metadata": {"model": "Research", "table": "research", "column": "updated_at", "join_hints": [], "keywords": ["research", "updated", "recently", "recent", "modified", "changed", "latest"], "semantics": "Temporal filtering for recent updates", "recipe_type": "temporal", "source": "curated"}}
{"id": "query_recipe:experiment_simulation_links", "doc_type": "query_recipe", "text": "Recipe: experiment simulation links. Query experiment_simulations table (or experiments linked to simulations). Join experiments to experiment_simulations on experiments.id = experiment_simulations.experiment_id. Join experiment_simulations to simulations on experiment_simulations.simulation_id = simulations.id. Filter by experiments.name or experiments.id if specific experiment requested. Return experiments.name, simulations.name, and experiment_simulations.iteration.", "metadata": {"model": "ExperimentSimulation", "table": "experiment_simulations", "column": "simulation_id", "join_hints": ["experiment_simulations.experiment_id -> experiments.id", "experiment_simulations.simulation_id -> simulations.id"], "keywords": ["experiment", "simulation", "links", "linked", "related", "connection"], "semantics": "Relationship query: experiments linked to simulations", "recipe_type": "relationship", "source": "curated"}}
{"id": "query_recipe:notes_for_experiments", "doc_type": "query_recipe", "text": "Recipe: notes for experiments. Join experiments to notes on experiments.id = notes.experiment_id. Filter by experiments.name or experiments.id if specific experiment requested. Return notes.content, notes.created_at, and experiments.name. Order by notes.created_at DESC to show most recent notes first.", "metadata": {"model": "Note", "table": "notes", "column": "experiment_id", "join_hints": ["notes.experiment_id -> experiments.id", "experiments.name (optional filter)"], "keywords": ["notes", "for", "experiments", "related", "linked", "associated"], "semantics": "Relationship query: notes for experiments", "recipe_type": "relationship", "source": "curated"}}
{"id": "query_recipe:notes_for_research", "doc_type": "query_recipe", "text": "Recipe: notes for research projects. Join research to notes on research.id = notes.research_id. Filter by research.name or research.id if specific research project requested. Return notes.content, notes.created_at, and research.name. Order by notes.created_at DESC to show most recent notes first.", "metadata": {"model": "Note", "table": "notes", "column": "research_id", "join_hints": ["notes.research_id -> research.id", "research.name (optional filter)"], "keywords": ["notes", "for", "research", "related", "linked", "associated"], "semantics": "Relationship query: notes for research", "recipe_type": "relationship", "source": "curated"}}
{"id": "query_recipe:experiments_linked_to_research", "doc_type": "query_recipe", "text": "Recipe: experiments linked to research. Join research to experiments on research.id = experiments.research_id. Filter by research.name or research.id if specific research project requested. Return experiments.name, experiments.status, and research.name. This shows all experiments associated with a research project.", "metadata": {"model": "Experiment", "table": "experiments", "column": "research_id", "join_hints": ["experiments.research_id -> research.id", "research.name (optional filter)"], "keywords": ["experiments", "linked", "to", "research", "related", "associated", "for"], "semantics": "Relationship query: experiments for research", "recipe_type": "relationship", "source": "curated"}}